{% extends "account/base.html" %}

{% load i18n %}

{% block head_title %}{% trans "Add a Role" %}{% endblock %}

{% block account_content %}

<div class="row">
    <div class="col-lg-12 page-title">
        <div class="txt">Add a Role</div>
        <div class="rule"></div>
    </div>
</div>

<div class="row">
    <div class="col-lg-9">
        <div class="form-intro">
            <p>Use this form to create a new role. The role data will be pulled in from GitHub</p>
            <p>Each role to be uploaded should be available as its own Github repository. For example, if the role is located at <code>http://github.com/myusername/myrolename</code>, put 'myusername' in the first box and 'myrolename' in the second.<p>
            <p>For more information about how to create and upload a role, please refer to the <a href="{% url 'main:intro' %}">getting started</a> documentation for more information.</p>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-lg-9">
        {% if form.non_field_errors %}
        <div class="alert alert-danger alert-dismissable">
            <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
            <strong>Errors:</strong><br />
            {% for error in form.non_field_errors %}{{error}}<br />{% endfor %}
        </div>
        {% endif %}
        <form id="add_role_form" method="post" action="{% url "main:accounts-role-save" %}">
            {% csrf_token %}
            <div class="form-group row">
                <div class="col-lg-6">
                    <input type="text" class="form-control col-lg-12" id="github_user" maxlength="256" name="github_user" placeholder="Github Username/Account" {% if form.github_user.value %}value="{{form.github_user.value}}" {% endif %}/>
                    <p class="help-block">{% trans "Enter the username/account name which owns the repository containing the role." %}</p>
                </div>
                <div class="col-lg-6">
                    {% if form.github_user.errors %}
                    <div class="well-sm">
                        <span class="text-danger">
                        {% for error in form.github_user.errors %}<i class="fa fa-exclamation-triangle"></i> {{ error|escape }}<br />{% endfor %}
                        </span>
                    </div>
                    {% endif %}
                </div>
            </div>
            <div class="form-group row">
                <div class="col-lg-6">
                    <input type="text" class="form-control col-lg-12" id="github_repo" maxlength="256" name="github_repo" placeholder="Github Repository" {% if form.gitub_repo.value %}value="{{form.github_repo.value}}" {% endif %}/>
                    <p class="help-block">{% trans "Enter the name of the repository containing the role." %}</p>
                </div>
                <div class="col-lg-6">
                    {% if form.github_repo.errors %}
                    <div class="well-sm">
                        <span class="text-danger">
                        {% for error in form.github_repo.errors %}<i class="fa fa-exclamation-triangle"></i> {{ error|escape }}<br />{% endfor %}
                        </span>
                    </div>
                    {% endif %}
                </div>
            </div>
            <div class="form-group row">
                <div class="col-lg-6">
                    <input type="text" class="form-control col-lg-12" id="name" maxlength="512" name="name" placeholder="Alternate Name" {% if form.name.value %}value="{{form.name.value}}" {% endif %}/>
                    <p class="help-block">{% trans "<strong>(optional)</strong> An alternate name for the repository. If left blank, the repo name will be used." %}</p>
                </div>
                <div class="col-lg-6">
                    {% if form.name.errors %}
                    <div class="well-sm">
                        <span class="text-danger">
                        {% for error in form.name.errors %}<i class="fa fa-exclamation-triangle"></i> {{ error|escape }}<br />{% endfor %}
                        </span>
                    </div>
                    {% endif %}
                </div>
            </div>
            <div class="form-actions">
                <button class="btn btn-primary" type="submit">{% trans "Add Role" %}</button>
            </div>
        </form>
    </div>
    <div class="col-lg-3">
        <div style="margin-top: 10px;">
        </div>
    </div>
</div>

{% endblock %}

