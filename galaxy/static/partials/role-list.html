<div id="galaxy-role-list">

    <ng-include src="'/static/partials/pageHeaderWidget.html'"></ng-include>

    <div class="container-fluid" id="role-list-container">
        <div class="row" id="search-control-container">
            <div class="col-lg-10 col-md-9 col-sm-9" id="results-column">
                <div id="search-controls-container">
                    <div id="role-list-search">
                        <autocomplete 
                            search-suggestion-function="searchSuggestion"
                            search-placeholder="Search roles" 
                            search-function="search" 
                            search-order-options="orderOptions" 
                            search-type-options="searchTypeOptions" 
                            search-suggestions="searchSuggestions"></autocomplete>
                    </div>
                    <div id="results-container">
                        <div class="result" ng-repeat="role in roles">
                            <a ng-href="/detail#/role/{{ role.id }}">
                            <div class="row header">
                                <div class="title col-xs-8">{{ role.name }}</div>
                                <div class="score-container text-right col-xs-4">
                                    <label>Score</label>
                                    <span class="badge" ng-if="role.average_score > 0">{{ role.average_score | number:1 }}</span>
                                    <span class="badge" ng-if="role.average_score === 0">NA</span>
                                </div>
                            </div>   
                            <hr />
                            <div class="body">
                                <div class="description" dot-dot-dot>{{ role.description }}</div>
                                <table class="stats-table">
                                    <tr class="stat-row">
                                        <td class="key">Author</td>
                                        <td class="value">{{ role.username }}&nbsp;</td>
                                    </tr>
                                    <tr class="stat-row">
                                        <td class="key">Platforms</td>
                                        <td class="value" ng-show="role.platforms.length" ng-bind="role.platforms.join(', ')"></td>
                                        <td class="value" ng-show="!role.platforms.length">&nbsp;</td>
                                    </tr>
                                    <tr class="stat-row">
                                        <td class="key">Tags</td>
                                        <td class="value" ng-show="role.tags.length" ng-bind="role.tags.join(', ') + ' '"></td>
                                        <td class="value" ng-show="!role.tags.length">&nbsp;</td>
                                    </tr>
                                    <tr class="stat-row">
                                        <td class="key">Last Imported</td>
                                        <td class="value">{{ role.imported | date:"short" }}&nbsp;</td>
                                    </tr>
                                </table>
                            </div>
                            <div class="footer">
                                <div class="img-container">
                                    <img ng-src="{{ role.travis_status_url }}" class="travis-status-img" />
                                </div>
                                <div class="counts">
                                    <span class="star-count" title="GitHub Stargazers Count"><i class="fa fa-star"></i> &nbsp;{{ role.stargazers_count }}</span>
                                    <span class="download-count" title="Galaxy Download Count"><i class="fa fa-download"></i> &nbsp;{{ role.download_count || 0}}</span>
                                </div>
                            </div>
                            </a>
                        </div><!-- result -->
                        
                        <ng-include src="'/static/partials/paginateWidget.html'"></ng-include>
                        
                        <div id="galaxy-copyright-role-list" ng-show="!loading">
                            <div class="copyright-txt">
                                Copyright &copy; 2015 Ansible, Inc. | <a href="http://www.ansible.com/security" target="_blank">Security Disclosures</a> | <a href="http://www.ansible.com/privacy-policy" target="_blank">Privacy Policy</a>
                            </div>
                        </div>

                    </div><!-- results -->
                </div><!-- search-controls-container -->
            </div>
            <div class="col-lg-2 col-md-3 col-sm-3">
                <div id="role-tags-container">
                    <div class="header">
                         <div class="title">POPULAR TAGS</div>
                    </div>
                    <div class="body-wrapper">
                        <div class="body">
                            <div class="tag" ng-repeat="tag in topTags">
                                <div class="tag-name" ng-click="activateTag(tag)" ng-class="{ active: tag.active }">{{ tag.tag }}</div>
                                <div class="tag-roles">{{ tag.roles }}</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div><!-- search-control-container -->
    </div><!-- container -->

    <ng-include src="'/static/partials/loader.html'"></ng-include>

</div>
