<ng-include src="'/static/partials/pageHeaderWidget.html'"></ng-include>

<div class="container-fluid" id="galaxy-role-list">

    <div class="row">
        <div class="col-lg-10 col-md-9 col-sm-9">
            <div class="search-controls" id="role-list-search">
                <autocomplete search-placeholder="Search roles" search-suggestions="suggestions" search-onkeyup="onKeyUp"
                    search-function="search" search-suggestion-function="suggestionSearch"></autocomplete>
                <div id="role-order-by">
                    <select name="orderyb" ng-model="orderby" class="form-control" ng-options="option.title for option in orderby_options">
                        <option value="">Relevance</option>
                    </select>
                </div>
            </div>

            <div class="results" id="role-list-results">
                <div class="result" ng-repeat="role in roles">
                    <div class="header">
                        <a ng-href="/list#/roles/{{ role.id }}/" class="title">{{ role.name }}</a>
                        <div class="score-container">
                            <label>Score</label>
                            <span class="badge" ng-if="role.average_score > 0">{{ role.average_score | number:1 }}</span>
                            <span class="badge" ng-if="role.average_score === 0">NA</span>
                        </div>
                        <hr />
                    </div>
                    <div class="body">
                        <div class="description" dot-dot-dot>{{ role.description }}</div>
                        <div class="result-group authors" dot-dot-dot>
                            <span class="result-label">Author</span>
                            <span class="value"><a href="/list#/users/{{ role.owner_id }}">{{ role.username }}</a></span>
                        </div>
                        <div class="result-group" dot-dot-dot>
                            <span class="result-label">Platforms</span>
                            <span class="platforms" ng-bind="role.platforms.join(' ')"></span>
                        </div>
                        <div class="result-group" dot-dot-dot>
                            <span class="result-label">Tags</span>
                            <span class="tags" ng-bind="role.tags.join(' ')"></span>
                        </div>
                    </div>
                </div><!-- result -->
            </div><!-- results -->
        </div>

        <div class="col-lg-2 col-md-3 col-sm-3">
            <div class="tags-container">
                <div class="tag" ng-repeat="tag in tags"><span class="tag-name">{{ tag.tag }}</span><span class="tag-roles">{{ tag.roles }}</span></div>
            </div>
        </div>
    </div>

    <ng-include src="'/static/partials/paginateWidget.html'"></ng-include>  
    <ng-include src="'/static/partials/loader.html'"></ng-include>

</div><!-- container -->
